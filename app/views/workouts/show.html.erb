<p style="color: green"><%= notice %></p>
<%= render @workout, include_map: true %>
<!-- 3D Workout Visualization -->
<div class="workout-3d-container">
  <h3>3D Route Visualization</h3>
  <div
    data-controller="three-workout"
    data-three-workout-workout-data-value="<%= @workout.as_json(include_waypoints: true).to_json %>"
    data-three-workout-waypoints-value="<%= @workout.waypoints.map(&:to_h).to_json %>"
    style="position: relative; width: 100%; height: 500px; border: 1px solid #ccc; border-radius: 8px; overflow: hidden;">
    <canvas
      data-three-workout-target="canvas"
      style="width: 100%; height: 100%; display: block;">
    </canvas>
    <div class="controls-overlay">
      <div>ðŸŽ® <strong>Controls:</strong></div>
      <div>â€¢ Drag to rotate view</div>
      <div>â€¢ Scroll to zoom</div>
      <div>â€¢ Green sphere = Start</div>
      <div>â€¢ Red sphere = End</div>
      <div>â€¢ Line color = Speed (green=slow, red=fast)</div>
    </div>
  </div>
</div>
<div>
  <%= link_to "Edit this workout", edit_workout_path(@workout) %> |
  <%= link_to "Back to workouts", workouts_path %>
  <%= button_to "Destroy this workout", @workout, method: :delete %>
</div>
